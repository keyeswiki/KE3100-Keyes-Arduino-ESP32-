<xml version="Mixly 2.0 rc4" board="Arduino ESP32@ESP32 Dev Module"><block type="base_setup" id="Ij*WyhPt{8F{Rm#F3OHU" x="-625" y="-677"><statement name="DO"><block type="serial_begin" id="-~GZ[1~!]^9a@FpcOgqY"><field name="serial_select">Serial</field><value name="CONTENT"><shadow type="math_number" id="U]lOlsplNgrF$bnY_uYw"><field name="NUM">9600</field></shadow></value><next><block type="variables_declare" id="?4~@0|ut{VxT0`4_!?jw"><field name="variables_type">global_variate</field><field name="VAR">Waterlevel</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id=",wnfOQsy=!x^J6W9:/QJ"><field name="NUM">0</field></block></value><next><block type="group_lcd_init2" id="Rb99HH.vz^Lcg`Gl|Cgg"><field name="TYPE">16,2</field><field name="VAR">mylcd</field><value name="device"><shadow type="math_number" id="B[*Mp]]*}DF?I{UVYhyE"><field name="NUM">0x27</field></shadow></value><value name="SCL"><shadow type="pins_digital" id="-:|hs!TL16S*DY#42|(s"><field name="PIN">22</field></shadow></value><value name="SDA"><shadow type="pins_digital" id="nku@]D=*yZm7x=oF):}B"><field name="PIN">21</field></shadow></value><next><block type="group_lcd_power" id="p`fere7d,LzRDX.zuR*R"><field name="VAR">mylcd</field><field name="STAT">display</field><next><block type="group_lcd_power" id="o*-#Y`D+b,nONVGMBaw/"><field name="VAR">mylcd</field><field name="STAT">backlight</field><next><block type="group_lcd_power" id="9sON@gl4pAcRRGLtUg)6"><field name="VAR">mylcd</field><field name="STAT">clear</field></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="variables_set" id="YCH#[^o:RLETr7H;3Pp}" x="-625" y="-426"><field name="VAR">Waterlevel</field><value name="VALUE"><block type="ke_water" id="TGEEz^yxVz:;H(]!lu`1"><value name="PIN"><shadow type="pins_analog" id="A#7#9c[$~GugwXR|Cl]2"><field name="PIN">33</field></shadow></value></block></value><next><block type="group_lcd_print" id="@0,0Ul/0Q:Oak)DfUg:/"><field name="VAR">mylcd</field><value name="TEXT"><shadow type="text" id="j$^,c,RNUVb7iWP4jJ}#"><field name="TEXT">RainWater:</field></shadow><block type="text" id="!3v4jO5=qMyowu)1kkDV"><field name="TEXT">Water Level:</field></block></value><value name="TEXT2"><shadow type="text" id="*Hy{Gl!NLb`=FI|qR|GA"><field name="TEXT"></field></shadow><block type="variables_get" id="qhi~y5mOE7]?vbZ0p@6X"><field name="VAR">Waterlevel</field></block></value><next><block type="yuyininit" id="Vl(h|$~FJ!6!M6.Y6)qQ"><field name="mode">1</field><value name="PIN1"><shadow type="pins_digital" id="?M(ygw_Q9QYVb1k!ziW?"><field name="PIN">23</field></shadow></value><value name="PIN2"><shadow type="pins_digital" id="Kz/:9-Q=xEXP`{S*?`r["><field name="PIN">5</field></shadow></value><next><block type="controls_if" id=";#}jx)meGC@eR*l9Y+}W"><value name="IF0"><block type="yuyinshibie1" id="delm,q.VQ$,4)a;jM2El"><value name="VALUE"><shadow type="math_number" id="Q{@d#F3qTf_VkC4;S8nc"><field name="NUM">0x40</field></shadow><block type="yuyinshibie" id="`VgECs[JO}UEl8(Ts]ru"><field name="PIN">52</field></block></value></block></value><statement name="DO0"><block type="yuyinqinchu" id="^`B#56$7Z~mjUUPnT,^8"><next><block type="controls_delay" id="0QI$AYMcEIpT5.^d7+|I"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="ya,+BHjvkl#uTUpBtBL3"><field name="NUM">2000</field></shadow></value><next><block type="yuyinbobao" id="*0p5dbRW2oqJY[aqASIh"><field name="PIN3">7</field><next><block type="controls_delay" id="qEL52aZB~/9Oe}Mjkae;"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="TX:UI.6-I)O3](jrtJ(D"><field name="NUM">2000</field></shadow></value><next><block type="bozhenshu" id="IuCBr7g#60ND;N]F[EpD"><value name="ZHENSHU"><shadow type="math_number" id="{BUd`2jUIUX6]82mLQ7s"><field name="NUM">25</field></shadow><block type="variables_get" id="f)p1~7^OEJ$;l|UX|yXm"><field name="VAR">Waterlevel</field></block></value><next><block type="controls_delay" id="C5AoI8JzshC$.@fE7G/t"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="sC8+3qTYTtu$FP{@/vK$"><field name="NUM">2000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="ZW*iT.ZMSnic;NSmvAl{"><value name="IF0"><block type="logic_compare" id="Ub^0g-{(_lEnHYM@K2~!"><field name="OP">GTE</field><value name="A"><block type="variables_get" id="H?;XV:.uaXHIDsJjuspr"><field name="VAR">Waterlevel</field></block></value><value name="B"><block type="math_number" id="S*_.$JI).5W}!m#*5Y^b"><field name="NUM">800</field></block></value></block></value><statement name="DO0"><block type="ke_buzzer" id="+e@2uNuV7,!pnQ?;;t:y"><field name="DURATION">125</field><value name="PIN"><shadow type="pins_digital" id="(Cu1zuuz5+8L1!D=y8Lv"><field name="PIN">16</field></shadow></value><value name="FREQUENCY"><shadow type="ke_tone01" id="[+^=w|!ty#6,)O?78qT1"><field name="STAT">659</field></shadow></value><next><block type="ke_buzzer" id="0[}oE]!1?1))wKAt(64-"><field name="DURATION">125</field><value name="PIN"><shadow type="pins_digital" id="ekA`[scABDo~+!rd~~Rg"><field name="PIN">16</field></shadow></value><value name="FREQUENCY"><shadow type="ke_tone01" id="z:#L9)M,rw,B|[bzQSI;"><field name="STAT">532</field></shadow></value><next><block type="ke_buzzer" id="MTw,mz:J{@Ch}`i$;9hN"><field name="DURATION">125</field><value name="PIN"><shadow type="pins_digital" id="jLY]w^k!;ViGxgHR)UG!"><field name="PIN">16</field></shadow></value><value name="FREQUENCY"><shadow type="ke_tone01" id="q)*wJJjmpA3*ji#X4[zB"><field name="STAT">659</field></shadow></value><next><block type="ke_notone" id="C*1SgWx[b+2hr7;6)uiO"><value name="PIN"><shadow type="pins_digital" id="pc/Q07D8Sm|Q,-,A$#S3"><field name="PIN">16</field></shadow></value><next><block type="controls_if" id="5J]Vpo^sSZovCS,R6i73"><value name="IF0"><block type="yuyinshibie1" id="APq,Jj_5P,8f8eN24E18"><value name="VALUE"><shadow type="math_number" id="zNbzy2_I+=1YPd$F`+se"><field name="NUM">0x40</field></shadow><block type="yuyinshibie" id="[p+2|7u+4J=wMHm}zJwy"><field name="PIN">9</field></block></value></block></value><statement name="DO0"><block type="yuyinqinchu" id="C1R8PaE{]8`tWz!oxM=="><next><block type="controls_delay" id="VTrMJM}`oWE6-{,eN~+L"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="GJT3=4g1w[}_i6Nf2,Pl"><field name="NUM">1000</field></shadow></value><next><block type="ke_relay" id="J+1B0Tu^/Al(kl;nt.nA"><field name="STAT">HIGH</field><value name="PIN"><shadow type="pins_digital" id="Y`t_xjXwP?J`K?D(B1{0"><field name="PIN">25</field></shadow></value><next><block type="controls_delay" id="_XSt/Q*!(6!oK(xKIjC["><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="/1wanyJ9.37rfAg~S1XR"><field name="NUM">400</field></shadow></value><next><block type="ke_relay" id=",MzkChU^#/[W6J]3c^.U"><field name="STAT">LOW</field><value name="PIN"><shadow type="pins_digital" id="t_Fwk[7o+zocThE#(n30"><field name="PIN">25</field></shadow></value><next><block type="controls_delay" id="EerF|PpIM17WVJn3DK)="><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="y|coE;`p]_MpxtlmkJv8"><field name="NUM">700</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement><next><block type="controls_delay" id=":N]B/s;+oIh9}GuJC#XW"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="D,^0J.QlhD@ZmyY/Ryi8"><field name="NUM">500</field></shadow></value><next><block type="group_lcd_power" id="C]3V$V#{I6}+zBK6BG7/"><field name="VAR">mylcd</field><field name="STAT">clear</field></block></next></block></next></block></next></block></next></block></next></block></next></block></xml><config>{"PSRAM":{"key":"disabled","label":"Disabled"},"PartitionScheme":{"key":"default","label":"Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)"},"CPUFreq":{"key":"240","label":"240MHz (WiFi/BT)"},"FlashMode":{"key":"qio","label":"QIO"},"FlashFreq":{"key":"80","label":"80MHz"},"FlashSize":{"key":"4M","label":"4MB (32Mb)"},"UploadSpeed":{"key":"921600","label":"921600"},"LoopCore":{"key":"1","label":"Core 1"},"EventsCore":{"key":"1","label":"Core 1"}}</config><code>dm9sYXRpbGUgaW50IHl1eWluOwojaW5jbHVkZSA8U29mdHdhcmVTZXJpYWwuaD4KI2luY2x1ZGUgPFdpcmUuaD4KI2luY2x1ZGUgPExpcXVpZENyeXN0YWxfSTJDLmg+CiNpbmNsdWRlIDxFU1AzMlRvbmUuaD4KCnZvbGF0aWxlIGludCBXYXRlcmxldmVsOwpMaXF1aWRDcnlzdGFsX0kyQyBteWxjZCgweDI3LDE2LDIpOwoKLy8g5Liy5Y+j5Y+R6YCB5raI5oGv5pyA5aSn6ZW/5bqmCiNkZWZpbmUgVUFSVF9TRU5EX01BWCAgICAgIDMyCiNkZWZpbmUgVUFSVF9NU0dfSEVBRF9MRU4gIDIKI2RlZmluZSBVQVJUX01TR19GT09UX0xFTiAgMgovLyDkuLLlj6Plj5HpgIHmtojmga/lj7cKI2RlZmluZSBVX01TR19ib3poZW5zZ3NodSAgICAgIDEKI2RlZmluZSBVX01TR19ib3hpYW9zaHUgICAgICAyCiNkZWZpbmUgVV9NU0dfYm9iYW8xICAgICAgMwojZGVmaW5lIFVfTVNHX2JvYmFvMiAgICAgIDQKI2RlZmluZSBVX01TR19ib2JhbzMgICAgICA1CiNkZWZpbmUgVV9NU0dfYm9iYW80ICAgICAgNgojZGVmaW5lIFVfTVNHX2JvYmFvNSAgICAgIDcKI2RlZmluZSBVX01TR19ib2JhbzYgICAgICA4CiNkZWZpbmUgVV9NU0dfYm9iYW83ICAgICAgOQojZGVmaW5lIFVfTVNHX2JvYmFvOCAgICAgIDEwCiNkZWZpbmUgVV9NU0dfYm9iYW85ICAgICAgMTEKI2RlZmluZSBVX01TR19ib2JhbzEwICAgICAgMTIKI2RlZmluZSBVX01TR19ib2JhbzExICAgICAgMTMKI2RlZmluZSBVX01TR19ib2JhbzEyICAgICAgMTQKI2RlZmluZSBVX01TR19ib2JhbzEzICAgICAgMTUKI2RlZmluZSBVX01TR19ib2JhbzE0ICAgICAgMTYKI2RlZmluZSBVX01TR19ib2JhbzE1ICAgICAgMTcKI2RlZmluZSBVX01TR19ib2JhbzE2ICAgICAgMTgKI2RlZmluZSBVX01TR19ib2JhbzE3ICAgICAgMTkKI2RlZmluZSBVX01TR19ib2JhbzE4ICAgICAgMjAKLy8g5Liy5Y+j5raI5oGv5Y+C5pWw57G75Z6LCnR5cGVkZWYgdW5pb24gewogIGRvdWJsZSBkX2RvdWJsZTsKICBpbnQgZF9pbnQ7CiAgdW5zaWduZWQgY2hhciBkX3Vjc1s4XTsKICBjaGFyIGRfY2hhcjsKICB1bnNpZ25lZCBjaGFyIGRfdWNoYXI7CiAgdW5zaWduZWQgbG9uZyBkX2xvbmc7CiAgc2hvcnQgZF9zaG9ydDsKICBmbG9hdCBkX2Zsb2F0O311YXJ0X3BhcmFtX3Q7CgpTb2Z0d2FyZVNlcmlhbCBteVNlcmlhbCgyMyw1KTsKLy8g5Liy5Y+j5Y+R6YCB5Ye95pWw5a6e546wCnZvaWQgX3VhcnRfc2VuZF9pbXBsKHVuc2lnbmVkIGNoYXIqIGJ1ZmYsIGludCBsZW4pIHsKICAvLyBUT0RPOiDosIPnlKjpobnnm67lrp7pmYXnmoTkuLLlj6Plj5HpgIHlh73mlbAKICBmb3IoaW50IGk9MDtpPGxlbjtpKyspCnsKICAgbXlTZXJpYWwud3JpdGUgKCpidWZmKyspOwp9Cn0KCi8vIOS4suWPo+mAmuS/oea2iOaBr+Wwvgpjb25zdCB1bnNpZ25lZCBjaGFyIGdfdWFydF9zZW5kX2Zvb3RbXSA9IHsKICAweDU1LCAweGFhCn07CgovLyDljYHlha3kvY3mlbTmlbDovawzMuS9jeaVtOaVsAp2b2lkIF9pbnQxNl90b19pbnQzMih1YXJ0X3BhcmFtX3QqIHBhcmFtKSB7CiAgaWYgKHNpemVvZihpbnQpID49IDQpCiAgICByZXR1cm47CiAgdW5zaWduZWQgbG9uZyB2YWx1ZSA9IHBhcmFtLT5kX2xvbmc7CiAgdW5zaWduZWQgbG9uZyBzaWduID0gKHZhbHVlID4+IDE1KSAmIDE7CiAgdW5zaWduZWQgbG9uZyB2ID0gdmFsdWU7CiAgaWYgKHNpZ24pCiAgICB2ID0gMHhGRkZGMDAwMCB8IHZhbHVlOwogIHVhcnRfcGFyYW1fdCBwOyAgcC5kX2xvbmcgPSB2OwogIHBhcmFtLT5kX3Vjc1swXSA9IHAuZF91Y3NbMF07CiAgcGFyYW0tPmRfdWNzWzFdID0gcC5kX3Vjc1sxXTsKICBwYXJhbS0+ZF91Y3NbMl0gPSBwLmRfdWNzWzJdOwogIHBhcmFtLT5kX3Vjc1szXSA9IHAuZF91Y3NbM107Cn0KCi8vIOa1rueCueaVsOi9rOWPjOeyvuW6pgp2b2lkIF9mbG9hdF90b19kb3VibGUodWFydF9wYXJhbV90KiBwYXJhbSkgewogIGlmIChzaXplb2YoaW50KSA+PSA0KQogICAgcmV0dXJuOwogIHVuc2lnbmVkIGxvbmcgdmFsdWUgPSBwYXJhbS0+ZF9sb25nOwogIHVuc2lnbmVkIGxvbmcgc2lnbiA9IHZhbHVlID4+IDMxOwogIHVuc2lnbmVkIGxvbmcgTSA9IHZhbHVlICYgMHgwMDdGRkZGRjsKICB1bnNpZ25lZCBsb25nIGUgPSAgKCh2YWx1ZSA+PiAyMyApICYgMHhGRikgLSAxMjcgKyAxMDIzOwogIHVhcnRfcGFyYW1fdCBwMCwgcDE7CiAgcDEuZF9sb25nID0gKChzaWduICYgMSkgPDwgMzEpIHwgKChlICYgMHg3RkYpIDw8IDIwKSB8IChNID4+IDMpOwogIHBhcmFtLT5kX3Vjc1swXSA9IHAwLmRfdWNzWzBdOwogIHBhcmFtLT5kX3Vjc1sxXSA9IHAwLmRfdWNzWzFdOwogIHBhcmFtLT5kX3Vjc1syXSA9IHAwLmRfdWNzWzJdOwogIHBhcmFtLT5kX3Vjc1szXSA9IHAwLmRfdWNzWzNdOwogIHBhcmFtLT5kX3Vjc1s0XSA9IHAxLmRfdWNzWzBdOwogIHBhcmFtLT5kX3Vjc1s1XSA9IHAxLmRfdWNzWzFdOwogIHBhcmFtLT5kX3Vjc1s2XSA9IHAxLmRfdWNzWzJdOwogIHBhcmFtLT5kX3Vjc1s3XSA9IHAxLmRfdWNzWzNdOwp9CgovLyDkuLLlj6PpgJrkv6Hmtojmga/lpLQKY29uc3QgdW5zaWduZWQgY2hhciBnX3VhcnRfc2VuZF9oZWFkW10gPSB7CiAgMHhhYSwgMHg1NQp9OwoKLy8g5pKt5oql5Ye95pWwNwp2b2lkIF91YXJ0X2JvYmFvNygpIHsKICB1YXJ0X3BhcmFtX3QgcGFyYW07CiAgICBpbnQgaSA9IDA7CiAgICB1bnNpZ25lZCBjaGFyIGJ1ZmZbVUFSVF9TRU5EX01BWF0gPSB7MH07CiAgICBmb3IgKGkgPSAwOyBpIDwgVUFSVF9NU0dfSEVBRF9MRU47IGkrKykgewogICAgICAgIGJ1ZmZbaSArIDBdID0gZ191YXJ0X3NlbmRfaGVhZFtpXTsKICAgIH0KICAgIGJ1ZmZbMl0gPSBVX01TR19ib2Jhbzc7CiAgICBmb3IgKGkgPSAwOyBpIDwgVUFSVF9NU0dfRk9PVF9MRU47IGkrKykgewogICAgICAgIGJ1ZmZbaSArIDNdID0gZ191YXJ0X3NlbmRfZm9vdFtpXTsKICAgIH0KICAgIF91YXJ0X3NlbmRfaW1wbChidWZmLCA1KTsKfQoKLy8g5pKt5oql5pW05pWwCnZvaWQgX3VhcnRfYm96aGVuc2dzaHUoaW50IHpoZW5nc2h1KSB7CiAgdWFydF9wYXJhbV90IHBhcmFtOwogICAgaW50IGkgPSAwOwogICAgdW5zaWduZWQgY2hhciBidWZmW1VBUlRfU0VORF9NQVhdID0gezB9OwogICAgZm9yIChpID0gMDsgaSA8IFVBUlRfTVNHX0hFQURfTEVOOyBpKyspIHsKICAgICAgICBidWZmW2kgKyAwXSA9IGdfdWFydF9zZW5kX2hlYWRbaV07CiAgICB9CiAgICBidWZmWzJdID0gVV9NU0dfYm96aGVuc2dzaHU7CiAgICBwYXJhbS5kX2ludCA9IHpoZW5nc2h1OwogICAgX2ludDE2X3RvX2ludDMyKCZwYXJhbSk7CiAgICBidWZmWzNdID0gcGFyYW0uZF91Y3NbMF07CiAgICBidWZmWzRdID0gcGFyYW0uZF91Y3NbMV07CiAgICBidWZmWzVdID0gMDsKICAgIGJ1ZmZbNl0gPSAwOwogICAgZm9yIChpID0gMDsgaSA8IFVBUlRfTVNHX0ZPT1RfTEVOOyBpKyspIHsKICAgICAgICBidWZmW2kgKyA3XSA9IGdfdWFydF9zZW5kX2Zvb3RbaV07CiAgICB9CiAgICBfdWFydF9zZW5kX2ltcGwoYnVmZiwgOSk7Cn0KCnZvaWQgc2V0dXAoKXsKICBTZXJpYWwuYmVnaW4oOTYwMCk7CiAgV2F0ZXJsZXZlbCA9IDA7CiAgV2lyZS5iZWdpbigyMSwyMik7CiAgbXlsY2QuaW5pdCgpOwogIG15bGNkLmJhY2tsaWdodCgpOwogIG15bGNkLmRpc3BsYXkoKTsKICBteWxjZC5iYWNrbGlnaHQoKTsKICBteWxjZC5jbGVhcigpOwogIHBpbk1vZGUoMzMsIElOUFVUKTsKICBteVNlcmlhbC5iZWdpbig5NjAwKTsKICB5dXlpbiA9IDA7CiAgU2VyaWFsLmJlZ2luKDk2MDApOwogIHBpbk1vZGUoMTYsIE9VVFBVVCk7CgogIHBpbk1vZGUoMjUsIE9VVFBVVCk7Cn0KCnZvaWQgbG9vcCgpewogIFdhdGVybGV2ZWwgPSBhbmFsb2dSZWFkKDMzKTsKICBteWxjZC5zZXRDdXJzb3IoMCwgMCk7CiAgbXlsY2QucHJpbnQoIldhdGVyIExldmVsOiIpOwogIG15bGNkLnNldEN1cnNvcigwLCAxKTsKICBteWxjZC5wcmludChXYXRlcmxldmVsKTsKICBpZiAobXlTZXJpYWwuYXZhaWxhYmxlKCkgPiAwKSB7CiAgeXV5aW4gPSBteVNlcmlhbC5yZWFkKCk7CiAgIFNlcmlhbC5wcmludGxuKHl1eWluKTsKICB9CiAgaWYgKHl1eWluID09IDUyKSB7CiAgICB5dXlpbiA9IDA7CiAgICBkZWxheSgyMDAwKTsKICAgIF91YXJ0X2JvYmFvNygpOwogICAgZGVsYXkoMjAwMCk7CiAgICBfdWFydF9ib3poZW5zZ3NodShXYXRlcmxldmVsKTsKICAgIGRlbGF5KDIwMDApOwoKICB9CiAgaWYgKFdhdGVybGV2ZWwgPj0gODAwKSB7CiAgICB0b25lKDE2LCA2NTksIDEyNSwgMCk7CiAgICB0b25lKDE2LCA1MzIsIDEyNSwgMCk7CiAgICB0b25lKDE2LCA2NTksIDEyNSwgMCk7CiAgICBub1RvbmUoMTYsIDApOwogICAgaWYgKHl1eWluID09IDkpIHsKICAgICAgeXV5aW4gPSAwOwogICAgICBkZWxheSgxMDAwKTsKICAgICAgZGlnaXRhbFdyaXRlKDI1LEhJR0gpOwogICAgICBkZWxheSg0MDApOwogICAgICBkaWdpdGFsV3JpdGUoMjUsTE9XKTsKICAgICAgZGVsYXkoNzAwKTsKCiAgICB9CgogIH0KICBkZWxheSg1MDApOwogIG15bGNkLmNsZWFyKCk7Cgp9</code>