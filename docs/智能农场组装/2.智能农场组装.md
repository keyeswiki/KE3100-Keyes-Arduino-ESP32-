# 2. 智能农场组装

接下来开始实物的安装，一共分为19个小步骤，可分为椴木板安装和ESP32主控板接线两大类，还请拿出100%的精神，集中注意力，尽情享受动手创造的快乐吧！

## 步骤 1 : 安装ESP32主控板和继电器模块

1.1 

所需零件

![ZnNc_01](./media/ZnNc_01.png)


1.2

![ZnNc_02](./media/ZnNc_02.png)

1.3

![ZnNc_03](./media/ZnNc_03.png)

1.4

![ZnNc_04](./media/ZnNc_04.png)

1.5

![ZnNc_05](./media/ZnNc_05.png)

## 步骤 2 : 安装电池盒固定框架和饲养盒舱

2.1

所需零件

![ZnNc_06](./media/ZnNc_06.png)

2.2

![ZnNc_07](./media/ZnNc_07.png)

2.3

![ZnNc_08](./media/ZnNc_08.png)

2.4

![ZnNc_09](./media/ZnNc_09.png)

2.5

![ZnNc_10](./media/ZnNc_10.png)

2.6

![ZnNc_11](./media/ZnNc_11.png)

2.7

![ZnNc_12](./media/ZnNc_12.png)

2.8

![ZnNc_13](./media/ZnNc_13.png)

## 步骤 3 : 安装农场的下部结构

3.1

所需零件

![ZnNc_14](./media/ZnNc_14.png)

3.2

![ZnNc_15](./media/ZnNc_15.png)

3.3

![ZnNc_16](./media/ZnNc_16.png)

3.4

![ZnNc_17](./media/ZnNc_17.png)

3.5

![ZnNc_18](./media/ZnNc_18.png)

3.6

![ZnNc_19](./media/ZnNc_19.png)

3.7

![ZnNc_20](./media/ZnNc_20.png)

3.8

![ZnNc_21](./media/ZnNc_21.png)

3.9

![ZnNc_22](./media/ZnNc_22.png)

3.10

![ZnNc_25](./media/ZnNc_25.png)

3.11

![ZnNc_26](./media/ZnNc_26.png)

## 步骤 4 : 安装饲养盒舱门

4.1 

所需零件

![ZnNc_27](./media/ZnNc_27.png)

4.2

**亚克力板单独包装，建议将其保护膜撕下，以减少作为饲养盒舱门移动时的摩擦**。

![Img](./media/ZnNc_27-1.png)

4.3

![ZnNc_28](./media/ZnNc_28.png)

4.4

![ZnNc_29](./media/ZnNc_29.png)

4.5

**注意：安装好舵机后需将舵机线从15号孔穿入** 。

![J2](./media/J2.jpg)

4.6

![ZnNc_30](./media/ZnNc_30.png)

如果是安装 M1.4*6MM自攻螺钉，如下图所示：

![Img](./media/ZnNc_30-1.png)

4.7

![ZnNc_31](./media/ZnNc_31.png)

4.8

![ZnNc_32](./media/ZnNc_32.png)

4.9

![ZnNc_33](./media/ZnNc_33.png)

4.10

**注意：此步骤需要进行舵机角度的校准，按图示操作**。

![D1](./media/D1.png)

**特别提醒：** 这里需要使用到2根公对母杜邦线将舵机控制模块的G引脚和5V引脚分别连接到ESP32主控板上的GND引脚和5V引脚，舵机的黄线、红线和棕线分别连接到舵机控制模块的S引脚、V引脚和G引脚。如下图所示：

![D2](./media/D2.png)

![D3](./media/D3.png)

**按图示完成舵机的校准后，请将所接线拆除，无需保留**。

4.11

![ZnNc_34-1](./media/ZnNc_34-1.png)

![ZnNc_34-2](./media/ZnNc_34-2.png)

4.12

![ZnNc_34](./media/ZnNc_34.png)

4.13

![ZnNc_35](./media/ZnNc_35.png)

**检查：**

(1) 亚克力板与舵机的齿轮结构是否有良好的接触和受力点。

(2) 舵机的齿轮结构上的固定螺钉的尖端是否卡在舵机的塑料外壳上。如果是，请将固定螺钉稍微松开，以免其尖端接触舵机。

![Img](./media/ZnNc_35-1.png)


## 步骤 5 : 安装LCD1602模块和XHT11传感器

5.1

所需零件

![ZnNc_36](./media/ZnNc_36.png)

⚠️ **<span style="color: rgb(255, 76, 65);">特别提醒：</span>** 在I2C LCD1602模块的背面有一个**金属电位器**。你可以用一字螺丝刀转动电位器来调整屏幕清晰度。当你旋转电位器时，屏幕将变得更亮或更暗，适当的角度将使字体更清晰。清晰度在顺时针方向上增加，在逆时针方向上减少。

![Img](./media/lcd-7.png)

5.2

![ZnNc_37](./media/ZnNc_37.png)

5.3

![ZnNc_38](./media/ZnNc_38.png)

5.4

![ZnNc_39](./media/ZnNc_39.png)

5.5

![ZnNc_40](./media/ZnNc_40.png)

5.6

**此步骤需要使用3P线材和4P线材连接传感器和模块** 

|     模块     |            线材            |
| :----------: | :------------------------: |
|XHT11温湿度传感器 |        3P--150mm         |
|  LCD1602模块    | 4P--连拼 （**黑红白棕**） |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则会损坏端口；XHT11温湿度传感器的S引脚接黄线，V引脚接红线，G引脚接黑线**。

**接完XHT11温湿度传感器后将线材穿入20号孔**。

![J3](./media/J3.jpg)


5.7

**接线时，请注意区分线材颜色、端口正反面，请勿反插，否则会损坏端口；LCD1602模块的GND引脚接黑线，VCC引脚接红线，SDA引脚接白线，SCL引脚接棕线**。

![J4](./media/J4.jpg)

## 步骤 6 : 安装超声波传感器

6.1

所需零件

![ZnNc_41](./media/ZnNc_41.png)

6.2

![ZnNc_42](./media/ZnNc_42.png)

6.3

![ZnNc_43](./media/ZnNc_43.png)

6.4

**此步骤需要使用 4P--连拼转母单（**黑绿蓝红**）连接传感器** 

|     模块     |            线材            |
| :----------: | :------------------------: |
| 超声波传感器 |4P--连拼转母单（**黑绿蓝红**） |

**接线时，请注意区分线材颜色，传感器的Vcc引脚接红线，Trig引脚接蓝线，Echo引脚接绿线，Gnd引脚接黑线**。

![J5](./media/J5.png)

## 步骤 7 : 安装房子的墙壁

7.1

所需零件

![ZnNc_47](./media/ZnNc_47.png)

7.2

![ZnNc_48](./media/ZnNc_48.png)

7.3

![ZnNc_49](./media/ZnNc_49.png)

## 步骤 8 : 安装水滴传感器、光敏传感器和电机模块(风扇)

8.1

所需零件

![ZnNc_50](./media/ZnNc_50.png)

8.2

![ZnNc_51](./media/ZnNc_51.png)

8.3

![ZnNc_52](./media/ZnNc_52.png)

8.4

![ZnNc_53](./media/ZnNc_53.png)

8.5

![ZnNc_54](./media/ZnNc_54.png)

8.6

**此步骤需要使用杜邦线3P线材和4P线材连接传感器和模块**。 

|    模块    |           线材           |
| :--------: | :----------------------: |
|电机模块(风扇)|  4P--母单 (**黑红白棕**) |
|  水滴传感器  |       3P--150mm         |
|  光敏传感器  |       3P--150mm         |

**接线时，请注意区分线材颜色、端口正反面，请勿反插，否则会损坏端口**。

**接完电机模块后将线材穿入30号孔**。

![J7](./media/J7.jpg)

## 步骤 9 : 安装房子的屋顶

9.1

所需零件

![ZnNc_55](./media/ZnNc_55.png)

9.2

![ZnNc_56](./media/ZnNc_56.png)

9.3

![ZnNc_57](./media/ZnNc_57.png)

9.4

**屋顶安装完成后，将水滴传感器的线材穿入26号孔、光敏传感器的线材穿入27号孔**。

![J8](./media/J8.jpg)

## 步骤 10 : 安装房屋和地面

10.1

所需零件

![ZnNc_58](./media/ZnNc_58.png)

10.2

![ZnNc_59](./media/ZnNc_59.png)

10.3

![ZnNc_60](./media/ZnNc_60.png)

10.4

![ZnNc_61](./media/ZnNc_61.png)


10.5

![ZnNc_62](./media/ZnNc_62.png)

10.6

**将所有线材穿出底部**。

![J19-2](./media/J19-2.jpg)

## 步骤 11 : 给房子配线材

11.1

**请按照下方顺序进行接线，接线材时，请注意区分线材的颜色**。

| 编号 |      元器件       |          线材          |       ESP32主板引脚        |
| :--: | :---------------: | :--------------------: | :------------------------: |
|  1   |  电机模块(风扇)   |   4P--母单(黑红白棕)     | io18(IN-)   \|   io19(IN+) |
|  2   |   智能语音模块    |   4P--母单(黑红白棕)     |   io23(RXD) \| io5(TXD)    |
|  3   |   超声波传感器    | 4P--连拼转母单(黑绿蓝红)  |  io12(Trig)  \| io13(Echo)   |
|  4   |     LED模块      |     3P--200mm         |            io27            |
|  5   |    无源蜂鸣器     |      3P--200mm        |            io16            |
|  6   | XHT11温湿度传感器 |      3P--150mm        |            io17            |
|  7   |    继电器模块     |      3P--200mm        |            io25            |
|  8   |    继电器水泵     |    1P--红色公对公杜邦线    |                            |
|  9   |       舵 机       |                        |            io26            |
|  10  |      LCD1602      |   4P--连拼(黑红白棕)   | I2C(SDA(SDA) \| SCL(SCL))  |
|  11  |    水滴传感器     |       3P--150mm        |            io35            |
|  12  |    光敏传感器     |       3P--150mm        |            io34            |
|  13  |    水位传感器     |       3P--250mm        |            io33            |
|  14  |  土壤湿度传感器   |       3P--200mm        |            io32            |

11.2

**按图示将线材接到ESP32主控板的 io18(IN-) \| io19(IN+)**。

|     模块    |            线材           |       ESP32主控板引脚     |
| :----------: | :---------------------: | :----------------------: |
| 电机模块(风扇)|  4P--母单(**黑红白棕**)  |  io18(IN-) \| io19(IN+)  |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；V通过红线接V，G通过黑线接G，IN+通过白线接io19，IN-接通过棕线接io18**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| V | 红线 | V |
| G | 黑线 | G |
| IN+ | 白线 | io19 |
| IN- | 棕线 | io18 |

![M1](./media/M1.png)

11.3

**按图示将线材接到ESP32主控板的 io23(RXD) \| io5(TXD)**。

|     模块     |          线材          |     ESP32主控板引脚    |
| :----------: | :--------------------: | :------------------: |
| 智能语音模块 | 4P--母单(**黑红白棕**) | io23(RXD) \| io5(TXD) |

**此步骤需要使用 4P--母单(黑红白棕) 线材**。

![M2-2](./media/M2-2.jpg)

**接线时先将 4P--母单(黑红白棕) 线材的一头从43号孔穿入，再接到ESP32主控板，另一头端口与智能语音模块连接**。

![M2-1](./media/M2-1.png)

**接线时，请注意区分线材颜色，V通过红线接V，G通过黑线接G，TXD通过白线接io5，RXD接通过棕线接io23**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| V | 红线 | V |
| G | 黑线 | G |
| TXD | 白线 | io5 |
| RXD | 棕线 | io23 |

![M2](./media/M2.png)

11.4

**按图示将线材接到ESP32开发板的 io12(Trig)  \| io13(Echo)**。

|     模块     |      线材       |       ESP32主板引脚        |
| :----------: | :-------------: | :----------------------: |
| 超声波传感器 | 4P--连拼转母单(黑绿蓝红) | io12(Trig)  \| io13(Echo) |

**接线时，请注意区分线材的颜色，Vcc通过红线接V，Gnd通过黑线接G，Trig通过蓝线接io12，Echo通过绿线接io13**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| Vcc | 红线 | V |
| Gnd | 黑线 | G |
| Trig | 蓝线 | io12 |
| Echo | 绿线 | io13 |

![M3](./media/M3.png)

11.5

**按图示将线材接到开发板的io27**。

| 模块 |  线材 | ESP32主控板引脚 |
| :--: | :------: | :--: |
| LED  | 3P--200mm | io27 |

**此步骤需要使用 3P-200mm 线材**。

![M4-1](./media/M4-1.jpg)

**接线时先将 3P-200mm 线材的一头从7号孔穿入，再接到ESP32主控板，另一头端口与LED模块连接**。

![M4-2](./media/M4-2.png)

**接线时，请注意区分线材的颜色，V通过红线接V，G通过黑线接G，S通过黄线接io27**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| V | 红线 | V |
| G | 黑线 | G |
| S | 黄线 | io27 |

![M4](./media/M4.png)

11.6

**按图示将线材接到ESP32主控板的io16**。

|    模块    |   线材   | ESP32主控板引脚 |
| :--------: | :------: | :---------: |
| 无源蜂鸣器 | 3P--200mcm |    io16     |

**此步骤需要使用 3P-200mm 线材**

![M4-1](./media/M4-1.jpg)

**接线时先将 3P-200mm 线材的一头从17号孔穿入，再接到ESP32主控板，另一头端口与无源蜂鸣器模块连接**。

![M5-1](./media/M5-1.png)

**接线时，请注意区分线材的颜色，V通过红线接V，G通过黑线接G，S通过黄线接io16**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| V | 红线 | V |
| G | 黑线 | G |
| S | 黄线 | io16 |

![M5](./media/M5.png)

11.7

**按图示将线材接到ESP32主控板的io17**。

|       模块        |   线材   | ESP32主控板引脚 |
| :---------------: | :------: | :---------: |
| XHT11温湿度传感器 | 3P--150mm |    io17     |

**接线时，请注意区分线材的颜色，V通过红线接V，G通过黑线接G，S通过黄线接io17**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| V | 红线 | V |
| G | 黑线 | G |
| S | 黄线 | io17 |

![M6](./media/M6.png)

11.8

**按图示将线材接到ESP32主控板的io25**。

|    模块    | 线材颜色  | ESP32主控板引脚 |
| :--------: | :------: | :---------: |
| 继电器模块 | 3P--200mm |    io25     |

**此步骤需要使用 3P--200mm 线材**。

![M4-1](./media/M4-1.jpg)

**接线时，请注意区分线材的颜色，V通过红线接V，G通过黑线接G，S通过黄线接io25**。

| 模块 | 线材 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| V | 红线 | V |
| G | 黑线 | G |
| S | 黄线 | io25 |

![M7-3](./media/M7-3.png)

11.9

**按图示将线材接到ESP32开发板**。

|    模块    |        线材        |              ESP32主板引脚              |
| :--------: | :----------------: | :-----------------------------------: |
| 继电器水泵 |1P--红色公对公杜邦线 | 一端接ESP32主板的3V3引脚 \| 另一端接继电器上的NO接口 |

**此步骤需要使用 1P--红色公对公杜邦线 线材**。

![M7_2](./media/M7_2.png)

**将水泵的线材从40号孔穿入**。

![M7-1](./media/M7-1.png)

**接线时，请注意区分线材的颜色**。

![M7](./media/M7.png)

​	
![M7-4](./media/M7-4.png)

11.10

**按图示将线材接到ESP32主控板的io26**。

| 模块  | 线材 | ESP32主控板引脚 |
| :---: | :--: | :---------: |
| 舵 机 |      |    io26     |

**接线时，请注意区分线材的颜色，棕线接G，红线接V，黄线接**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| 棕线 |      |   G   |
| 红线 |      |   V   |
|橙黄线 |      |  io26 |

![M8](./media/M8.png)

11.11

**按图示将线材接到ESP32主控板的 BUS I2C**

|  模块   |          线材          | ESP32主控板引脚 |
| :-----: | :--------------------: | :---------: |
| LCD1602 |   4P--连拼(黑红白棕)    |   BUS I2C   |

**接线时，请注意区分线材的颜色，VCC通过红线接V，GND通过黑线接GND，SDA通过白线接SDA，SCL通过棕线接SCL**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| VCC | 红线 | V |
| GND| 黑线 | GND |
| SDA | 白线 | SDA |
| SCL | 棕线 | SCL |

![M9](./media/M9.png)

11.12

**按图示将线材接到ESP32主控板的io35**

|    模块    |   线材   | ESP32主控板引脚 |
| :--------: | :------: | :---------: |
| 水滴传感器 | 3P--150mm |    io35     |

**接线时，请注意区分线材的颜色，V通过红线接V，G通过黑线接G，S通过黄线接io35**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| V | 红线 | V |
| G | 黑线 | G |
| S | 黄线 | io35 |

![M10](./media/M10.png)

11.13

**按图示将线材接ESP32主控板的io34**。

|    模块    |   线材   | ESP32主控板引脚 |
| :--------: | :------: | :---------: |
| 光敏传感器 | 3P--150mm |    io34     |

**接线时，请注意区分线材的颜色，V通过红线接V，G通过黑线接G，S通过黄线接io34**。

| 模块 | 线材颜色 | ESP32主控板 |
| :--: | :--: | :--: |
| V | 红线 | V |
| G | 黑线 | G |
| S | 黄线 | io34 |

![M11](./media/M11.png)

11.14

**按图示将线线接到ESP32主控板的io33**。

|    模块    |   线材   | ESP32主控板引脚 |
| :--------: | :------: | :---------: |
| 水位传感器 | 3P--250mm |    io33     |

**此步骤需要使用 3P-250mm 线材**。

![M12-2](./media/M12-2.jpg)

**接线时先将 3P-250mm 线材的一头从13号孔穿入，再接到ESP32主控板，另一头端口与水位传感器模块连接**。

![M12-1](./media/M12-1.png)

**接线时，请注意区分线材的颜色，VCC通过红线接V，GND通过黑线接G，S通过黄线接io33**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| VCC | 红线 | V |
| GND | 黑线 | G |
| S | 黄线 | io33 |

![M12](./media/M12.png)

11.15

**按图示将线材接到ESP32主控板的io32**。

|    模块    |   线材   | ESP32主控板引脚 |
| :--------: | :------: | :---------: |
| 土壤湿度传感器 | 3P--200mm |    io32     |

**此步骤需要使用 3P-200mm 线材**。

![M4-1](./media/M4-1.jpg)

**接线时先将 3P-200mm 线材的一头从11号孔穿入，再接到ESP32主控板，另一头端口与土壤传感器模块连接**。

![M13-1](./media/M13-1.png)

**接线时，请注意区分线材的颜色，VCC通过红线接V，GND通过黑线接G，S通过黄线接io32**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| VCC | 红线 | V |
| GND | 黑线 | G |
| S | 黄线 | io32 |

![M13](./media/M13.png)

⚠️ **提醒：** 上述传感器模块接好线材之后，开始进行下面的安装部分。

## 步骤 12 : 安装房屋和地基

12.1

所需零件

![ZnNc_63](./media/ZnNc_63.png)

12.2

![ZnNc_63-1](./media/ZnNc_63-1.png)

12.3

![ZnNc_64](./media/ZnNc_64.png)

12.4

![ZnNc_65](./media/ZnNc_65.png)

12.5

![ZnNc_66](./media/ZnNc_66.png)

12.6

![ZnNc_67](./media/ZnNc_67.png)

## 步骤 13 : 安装塑料水槽

13.1

所需零件

![ZnNc_68](./media/ZnNc_68.png)

13.2

![ZnNc_69](./media/ZnNc_69.png)

13.3

![ZnNc_70](./media/ZnNc_70.png)

## 步骤 14 : 安装土壤湿度传感器、水位传感器和水泵

14.1

所需零件

⚠️ **特别提醒：这里安装土壤湿度传感器、水位传感器和水泵时，连接到土壤湿度传感器、水位传感器和水泵的线材不需要拔下来的。**

![ZnNc_71](./media/ZnNc_71.png)

14.2

![ZnNc_72](./media/ZnNc_72.png)

14.3

![ZnNc_73](./media/ZnNc_73.png)


14.4

![ZnNc_74](./media/ZnNc_74.png)

14.5

![ZnNc_75](./media/ZnNc_75.png)

14.6

![ZnNc_76](./media/ZnNc_76.png)

14.7

![ZnNc_77](./media/ZnNc_77.png)

14.8

![ZnNc_78](./media/ZnNc_78.png)

## 步骤 15 : 安装护栏

15.1

所需零件

![ZnNc_79](./media/ZnNc_79.png)

15.2

![ZnNc_80](./media/ZnNc_80.png)

15.3

![ZnNc_81](./media/ZnNc_81.png)

15.4

![ZnNc_82](./media/ZnNc_82.png)

15.5

![ZnNc_83](./media/ZnNc_83.png)

15.6

![ZnNc_84](./media/ZnNc_84.png)

## 步骤 16 : 安装蜂鸣器、语音模块和LED模块

16.1

所需零件

⚠️ **特别提醒：这里安装无源蜂鸣器、智能语音模块和LED模块时，连接到无源蜂鸣器、智能语音模块和LED模块的线材不需要拔下来。**

![ZnNc_85](./media/ZnNc_85.png)

16.2

![ZnNc_86](./media/ZnNc_86.png)

16.3

![ZnNc_87](./media/ZnNc_87.png)

16.4

![ZnNc_88](./media/ZnNc_88.png)

16.5

![ZnNc_89](./media/ZnNc_89.png)

16.6

![ZnNc_90](./media/ZnNc_90.png)

16.7

![ZnNc_91](./media/ZnNc_91.png)

16.8

![ZnNc_92](./media/ZnNc_92.png)

16.9

![ZnNc_93](./media/ZnNc_93.png)

## 步骤 17 : 装饰房屋

17.1

所需零件

![ZnNc_94](./media/ZnNc_94.png)

17.2

![ZnNc_95](./media/ZnNc_95.png)

17.3

![ZnNc_96](./media/ZnNc_96.png)

## 步骤 18 : 安装太阳能电池板

18.1

所需零件

![ZnNc_97](./media/ZnNc_97.png)

![ZnNc_97-3](./media/ZnNc_97-3.png)

⚠️ **特别提醒：将大阳能板粘贴在木板上。**

![ZnNc_97-2](./media/ZnNc_97-2.png)

18.2

**将LED灯插入至23号孔后，使用标签贴固定好线材**

![Img](./media/ZnNc_97-4.png)


![ZnNc_97-1](./media/ZnNc_97-1.png)


![ZnNc_98](./media/ZnNc_98.png)

18.3

![ZnNc_99](./media/ZnNc_99.png)

## 步骤 19 : 安装电池盒

19.1

所需零件


![ZnNc_100-1](./media/ZnNc_100-1.png)

19.2

![ZnNc_100](./media/ZnNc_100.png)

![ZnNc_101](./media/ZnNc_101.png)

19.3

![ZnNc_102](./media/ZnNc_102.png)

19.4

![ZnNc_103](./media/ZnNc_103.png)

**组装完成!**

![ZnNc_104](./media/ZnNc_104.png)
